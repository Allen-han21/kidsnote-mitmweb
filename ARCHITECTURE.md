# Kidsnote mitmweb - ì•„í‚¤í…ì²˜ ì„¤ê³„

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

**ëª©í‘œ:** iOS ê°œë°œìë¥¼ ìœ„í•œ ë„¤íŠ¸ì›Œí¬ ë””ë²„ê¹… ë° ê´‘ê³ /ë¶„ì„ ì§€í‘œ ëª¨ë‹ˆí„°ë§ ë„êµ¬
**ê¸°ë°˜:** mitmproxy/mitmweb í¬í¬ + ì»¤ìŠ¤í…€ UI í™•ì¥
**ì „ëµ:** ì˜µì…˜ A - mitmweb í¬í¬ & ìµœì†Œ ìˆ˜ì •ìœ¼ë¡œ ìµœëŒ€ íš¨ê³¼

### ğŸ†• v0.2.0 ì£¼ìš” ê¸°ëŠ¥
- **ê´‘ê³  íŠ¸ë˜í‚¹ ë¶„ì„ (Ad Tracking)** - í‚¤ì¦ˆë…¸íŠ¸ ê´‘ê³  API req/imp/click ìë™ ì¶”ì 
- **í‹°ì•„ë¼ ë¶„ì„ (Tiara Analytics)** - ì¹´ì¹´ì˜¤ Tiara ì‚¬ìš©ì í–‰ë™ ì´ë²¤íŠ¸ ëª¨ë‹ˆí„°ë§

---

## ğŸ¯ í•µì‹¬ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: API ì‘ë‹µì´ ëŠë¦°ë° ì–´ë””ê°€ ë¬¸ì œì¸ì§€ ëª¨ë¥´ê² ì–´
**í•´ê²°:**
- íƒ€ì„ë¼ì¸ ë·° (Waterfall) - ê° ìš”ì²­ì˜ ì‹œê°„ íë¦„ ì‹œê°í™”
- ì‘ë‹µì‹œê°„ ì°¨íŠ¸ - ì‹œê°„ëŒ€ë³„ API ì‘ë‹µ ì†ë„ ì¶”ì´
- ìŠ¬ë¡œìš° ì¿¼ë¦¬ ê°ì§€ - 3ì´ˆ ì´ìƒ ê±¸ë¦¬ëŠ” API ìë™ í•˜ì´ë¼ì´íŠ¸

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì•±ì´ ì–´ë–¤ APIë¥¼ í˜¸ì¶œí•˜ëŠ”ì§€ íŒŒì•…í•˜ê³  ì‹¶ì–´
**í•´ê²°:**
- ë„ë©”ì¸ë³„ í†µê³„ - kidsnote.com, api.kidsnote.com ë“± ë„ë©”ì¸ë³„ ì§‘ê³„
- API ì˜ì¡´ì„± ê·¸ë˜í”„ - ì–´ë–¤ í™”ë©´ì—ì„œ ì–´ë–¤ APIë¥¼ í˜¸ì¶œí•˜ëŠ”ì§€ ì‹œê°í™”
- í•„í„°ë§ - íŠ¹ì • ë„ë©”ì¸/ê²½ë¡œë§Œ ì§‘ì¤‘ ë¶„ì„

### ì‹œë‚˜ë¦¬ì˜¤ 3: íŠ¹ì • APIì˜ ìš”ì²­/ì‘ë‹µì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ì‹¶ì–´
**í•´ê²°:**
- ë¶ë§ˆí¬/íƒœê¹… - ì¤‘ìš”í•œ ìš”ì²­ ì €ì¥
- ê²€ìƒ‰ - ìš”ì²­/ì‘ë‹µ ë‚´ìš© ì „ì²´ ê²€ìƒ‰
- ì‹¤ì‹œê°„ í•„í„° - íŠ¹ì • ì—”ë“œí¬ì¸íŠ¸ë§Œ ì‹¤ì‹œê°„ ì¶”ì 

### ì‹œë‚˜ë¦¬ì˜¤ 4: API ì—ëŸ¬ìœ¨, ì‘ë‹µì‹œê°„ì„ ì‹œê°í™”í•˜ê³  ì‹¶ì–´
**í•´ê²°:**
- ì§€í‘œ ë·°ì–´ - ëŒ€ì‹œë³´ë“œ í˜•íƒœì˜ í†µí•© ë©”íŠ¸ë¦­
- ì—ëŸ¬ ë¡œê·¸ í•˜ì´ë¼ì´íŠ¸ - 4xx/5xx ì—ëŸ¬ ê°•ì¡° í‘œì‹œ
- ìƒíƒœ ì½”ë“œ ë¶„í¬ ì°¨íŠ¸ - ì„±ê³µ/ì‹¤íŒ¨ ë¹„ìœ¨ ì‹œê°í™”

### ì‹œë‚˜ë¦¬ì˜¤ 5: ê´‘ê³  íŠ¸ë˜í‚¹ì´ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ì‹¶ì–´ ğŸ†•
**í•´ê²°:**
- Ad Tracking Panel - ê´‘ê³  req/imp/click ìë™ ì¶”ì 
- CTR ìë™ ê³„ì‚° - ë…¸ì¶œ ëŒ€ë¹„ í´ë¦­ë¥  í†µê³„
- íŒ¨í‚· ìƒì„¸ ë·° - HTTP ìš”ì²­ íŒŒë¼ë¯¸í„° ë¶„ì„
- Ad ID ê¸°ë°˜ í•„í„°ë§ - íŠ¹ì • ê´‘ê³  ìº í˜ì¸ ì¶”ì 

### ì‹œë‚˜ë¦¬ì˜¤ 6: í‹°ì•„ë¼ ë¶„ì„ ì´ë²¤íŠ¸ë¥¼ ê²€ì¦í•˜ê³  ì‹¶ì–´ ğŸ†•
**í•´ê²°:**
- Tiara Analytics íƒ­ - ì‚¬ìš©ì í–‰ë™ ì´ë²¤íŠ¸ ì‹¤ì‹œê°„ ì¶”ì 
- Action Type í•„í„°ë§ - ViewImp, Click, Search ë“± ë¶„ë¥˜
- Raw Event Data ì¡°íšŒ - ì „ì†¡ë˜ëŠ” JSON ë°ì´í„° ì›ë³¸ í™•ì¸
- Page/Section ë¶„ì„ - í™”ë©´ë³„ ì´ë²¤íŠ¸ ë°œìƒ í˜„í™©

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  iOS Simulator / Device                 â”‚
â”‚                   (HTTP/HTTPS Proxy)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ Proxy: 127.0.0.1:8080
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    mitmproxy Core                       â”‚
â”‚                   (ë³€ê²½ ì—†ìŒ - ê¸°ë³¸ ì‚¬ìš©)                 â”‚
â”‚                                                         â”‚
â”‚  - HTTP/HTTPS íŠ¸ë˜í”½ ê°€ë¡œì±„ê¸°                            â”‚
â”‚  - SSL/TLS ì¸ì¦ì„œ ì²˜ë¦¬                                   â”‚
â”‚  - Flow ê´€ë¦¬                                            â”‚
â”‚  - WebSocket ì§€ì›                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ Internal API
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 mitmweb Backend (Tornado)               â”‚
â”‚                   (ìµœì†Œ ìˆ˜ì • - API í™•ì¥)                  â”‚
â”‚                                                         â”‚
â”‚  ê¸°ì¡´ API:                                              â”‚
â”‚  - GET  /flows                                         â”‚
â”‚  - GET  /flows/{id}                                    â”‚
â”‚  - GET  /events                                        â”‚
â”‚  - WebSocket /updates                                  â”‚
â”‚                                                         â”‚
â”‚  ì¶”ê°€ API (í•„ìš”ì‹œ):                                      â”‚
â”‚  - GET  /metrics/summary     (í†µê³„ ìš”ì•½)               â”‚
â”‚  - GET  /metrics/timeline    (ì‹œê°„ëŒ€ë³„ ë°ì´í„°)          â”‚
â”‚  - POST /flows/{id}/bookmark (ë¶ë§ˆí¬ í† ê¸€)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ REST API + WebSocket
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              mitmweb Frontend (React 19)                â”‚
â”‚                   (í•µì‹¬ ìˆ˜ì • ì˜ì—­)                        â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ (ìœ ì§€)                    â”‚  â”‚
â”‚  â”‚  - FlowTable (ìš”ì²­ ëª©ë¡)                          â”‚  â”‚
â”‚  â”‚  - FlowView (ìƒì„¸ ë·°)                             â”‚  â”‚
â”‚  â”‚  - Header (ìƒë‹¨ ë°”)                               â”‚  â”‚
â”‚  â”‚  - EventLog (ì´ë²¤íŠ¸ ë¡œê·¸)                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         ì‹ ê·œ ì»´í¬ë„ŒíŠ¸ (ì¶”ê°€ ê°œë°œ)                   â”‚  â”‚
â”‚  â”‚                                                  â”‚  â”‚
â”‚  â”‚  ğŸ“± AdTrackingPanel (ê´‘ê³ /ë¶„ì„ ì§€í‘œ) âœ… êµ¬í˜„ì™„ë£Œ   â”‚  â”‚
â”‚  â”‚     â”œâ”€ ğŸ“Š ê´‘ê³  ìš”ì•½ íƒ­ (req/imp/click ì¶”ì )     â”‚  â”‚
â”‚  â”‚     â”œâ”€ ğŸ“¦ íŒ¨í‚· ìƒì„¸ íƒ­ (HTTP ìš”ì²­ ë¶„ì„)         â”‚  â”‚
â”‚  â”‚     â”œâ”€ ğŸ“ˆ í‹°ì•„ë¼ íƒ­ (Tiara ì´ë²¤íŠ¸ ì¶”ì )         â”‚  â”‚
â”‚  â”‚     â”œâ”€ parseAdTracking.ts (ê´‘ê³  íŒŒì‹±)           â”‚  â”‚
â”‚  â”‚     â”œâ”€ parseTiara.ts (í‹°ì•„ë¼ íŒŒì‹±)              â”‚  â”‚
â”‚  â”‚     â””â”€ types.ts (íƒ€ì… ì •ì˜)                     â”‚  â”‚
â”‚  â”‚                                                  â”‚  â”‚
â”‚  â”‚  ğŸ“Š MetricsPanel (ì§€í‘œ ë·°ì–´)                      â”‚  â”‚
â”‚  â”‚     â”œâ”€ SummaryCards (ìš”ì•½ ì¹´ë“œ)                  â”‚  â”‚
â”‚  â”‚     â”œâ”€ ResponseTimeChart (ì‘ë‹µì‹œê°„ ì°¨íŠ¸)         â”‚  â”‚
â”‚  â”‚     â”œâ”€ StatusCodeChart (ìƒíƒœì½”ë“œ ë¶„í¬)           â”‚  â”‚
â”‚  â”‚     â””â”€ DomainStatsChart (ë„ë©”ì¸ë³„ í†µê³„)          â”‚  â”‚
â”‚  â”‚                                                  â”‚  â”‚
â”‚  â”‚  â±ï¸  TimelineView (íƒ€ì„ë¼ì¸/Waterfall)           â”‚  â”‚
â”‚  â”‚     â””â”€ WaterfallChart (ì‹œê°„ íë¦„ ì‹œê°í™”)         â”‚  â”‚
â”‚  â”‚                                                  â”‚  â”‚
â”‚  â”‚  ğŸ” AdvancedFilters (ê³ ê¸‰ í•„í„°)                   â”‚  â”‚
â”‚  â”‚     â”œâ”€ DomainFilter (ë„ë©”ì¸ í•„í„°)                â”‚  â”‚
â”‚  â”‚     â”œâ”€ SlowQueryFilter (ìŠ¬ë¡œìš° ì¿¼ë¦¬ í•„í„°)        â”‚  â”‚
â”‚  â”‚     â””â”€ BookmarkFilter (ë¶ë§ˆí¬ë§Œ ë³´ê¸°)            â”‚  â”‚
â”‚  â”‚                                                  â”‚  â”‚
â”‚  â”‚  ğŸ·ï¸  TaggingSystem (ë¶ë§ˆí¬/íƒœê¹…)                 â”‚  â”‚
â”‚  â”‚     â””â”€ TagManager (íƒœê·¸ ê´€ë¦¬)                    â”‚  â”‚
â”‚  â”‚                                                  â”‚  â”‚
â”‚  â”‚  ğŸ“ˆ DependencyGraph (API ì˜ì¡´ì„± ê·¸ë˜í”„)           â”‚  â”‚
â”‚  â”‚     â””â”€ NetworkGraph (ê´€ê³„ë„ ì‹œê°í™”)              â”‚  â”‚
â”‚  â”‚                                                  â”‚  â”‚
â”‚  â”‚  âš ï¸  ErrorHighlight (ì—ëŸ¬ í•˜ì´ë¼ì´íŠ¸)             â”‚  â”‚
â”‚  â”‚     â””â”€ ErrorPanel (ì—ëŸ¬ ì „ìš© ë·°)                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Redux State (í™•ì¥)                   â”‚  â”‚
â”‚  â”‚                                                  â”‚  â”‚
â”‚  â”‚  ê¸°ì¡´:                                           â”‚  â”‚
â”‚  â”‚  - flows (í”Œë¡œìš° ëª©ë¡)                           â”‚  â”‚
â”‚  â”‚  - ui (UI ìƒíƒœ)                                  â”‚  â”‚
â”‚  â”‚  - eventLog (ì´ë²¤íŠ¸)                             â”‚  â”‚
â”‚  â”‚                                                  â”‚  â”‚
â”‚  â”‚  ì¶”ê°€:                                           â”‚  â”‚
â”‚  â”‚  - metrics (ë©”íŠ¸ë¦­ ë°ì´í„°)                       â”‚  â”‚
â”‚  â”‚  - bookmarks (ë¶ë§ˆí¬ ëª©ë¡)                       â”‚  â”‚
â”‚  â”‚  - filters (ê³ ê¸‰ í•„í„° ìƒíƒœ)                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ Browser
                         â†“
                http://localhost:8081
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
kidsnote-mitmweb/
â”œâ”€â”€ .git/
â”œâ”€â”€ docs/                        # ì„¤ê³„ ë¬¸ì„œ
â”‚   â”œâ”€â”€ ARCHITECTURE.md          # (ì´ íŒŒì¼)
â”‚   â”œâ”€â”€ ROADMAP.md              # ê°œë°œ ë¡œë“œë§µ
â”‚   â”œâ”€â”€ TECH_STACK.md           # ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸
â”‚   â””â”€â”€ COMPONENT_DESIGN.md     # ì»´í¬ë„ŒíŠ¸ ì„¤ê³„
â”œâ”€â”€ mitmproxy/                   # upstream fork
â”‚   â”œâ”€â”€ mitmproxy/              # Python ì½”ì–´ (ë³€ê²½ ìµœì†Œ)
â”‚   â”œâ”€â”€ web/                    # í”„ë¡ íŠ¸ì—”ë“œ (í•µì‹¬ ì‘ì—… ì˜ì—­)
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ (ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ë“¤)
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Header/
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ AdTrackingMenu.tsx  # â­ ê´‘ê³  ë¶„ì„ ë©”ë‰´
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Kidsnote/     # â­ ì‹ ê·œ ê¸°ëŠ¥
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ AdTrackingPanel/   # âœ… êµ¬í˜„ì™„ë£Œ
â”‚   â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ index.tsx      # ë©”ì¸ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ parseAdTracking.ts  # ê´‘ê³  API íŒŒì‹±
â”‚   â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ parseTiara.ts  # í‹°ì•„ë¼ ì´ë²¤íŠ¸ íŒŒì‹±
â”‚   â”‚   â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ types.ts       # TypeScript íƒ€ì… ì •ì˜
â”‚   â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ AdTrackingPanel.css  # ìŠ¤íƒ€ì¼
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ MetricsPanel/
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ TimelineView/
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ AdvancedFilters/
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ TaggingSystem/
â”‚   â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ DependencyGraph/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ErrorHighlight/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ducks/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ (ê¸°ì¡´ ìƒíƒœ ê´€ë¦¬)
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ kidsnote/      # â­ ì‹ ê·œ ìƒíƒœ
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ metrics.ts
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ bookmarks.ts
â”‚   â”‚   â”‚   â”‚           â””â”€â”€ filters.ts
â”‚   â”‚   â”‚   â””â”€â”€ css/
â”‚   â”‚   â”‚       â””â”€â”€ kidsnote/          # â­ ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ vite.config.ts
â”‚   â”œâ”€â”€ test/                   # í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ examples/               # ì˜ˆì œ
â”œâ”€â”€ scripts/                    # ë¹Œë“œ/ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ build.sh               # ì „ì²´ ë¹Œë“œ
â”‚   â”œâ”€â”€ dev.sh                 # ê°œë°œ ì„œë²„ ì‹œì‘
â”‚   â””â”€â”€ docker-build.sh        # Docker ë¹Œë“œ
â”œâ”€â”€ docker/                     # Docker ì„¤ì •
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ docker-compose.yml
â”œâ”€â”€ .github/                    # GitHub Actions
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ ci.yml
â”œâ”€â”€ README.md                   # í”„ë¡œì íŠ¸ ì†Œê°œ
â”œâ”€â”€ LICENSE                     # MIT ë¼ì´ì„ ìŠ¤
â””â”€â”€ .gitignore
```

---

## ğŸ”§ í•µì‹¬ ìˆ˜ì • í¬ì¸íŠ¸

### 1. ë°±ì—”ë“œ (ìµœì†Œ ìˆ˜ì •)

**ëª©í‘œ:** ê¸°ì¡´ API í™œìš©, í•„ìš”ì‹œë§Œ í™•ì¥

**ìˆ˜ì • íŒŒì¼:**
- `mitmproxy/tools/web/app.py` (API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€ - ì„ íƒì )

**ì¶”ê°€ API (í•„ìš”ì‹œ):**
```python
# /metrics/summary - í†µê³„ ìš”ì•½
{
  "total_requests": 1234,
  "error_rate": 0.05,
  "avg_response_time": 234,
  "slow_queries": 12
}

# /metrics/timeline - ì‹œê°„ëŒ€ë³„ ë°ì´í„°
[
  {"timestamp": 1234567890, "count": 45, "avg_time": 200},
  ...
]
```

**ëŒ€ë¶€ë¶„ì€ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê³„ì‚°:**
- ê¸°ì¡´ `/flows` APIë¡œ ëª¨ë“  ë°ì´í„° ì¡°íšŒ
- í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì§‘ê³„/ë¶„ì„
- ì„±ëŠ¥ ì´ìŠˆ ë°œìƒ ì‹œ ë°±ì—”ë“œ API ì¶”ê°€ ê³ ë ¤

---

### 2. í”„ë¡ íŠ¸ì—”ë“œ (í•µì‹¬ ì‘ì—…)

#### 2.1 ìƒˆ íƒ­ ì¶”ê°€

**FlowViewì— íƒ­ ì¶”ê°€:**
```typescript
// web/src/js/components/FlowView/Tabs.tsx
import MetricsTab from '../Kidsnote/MetricsPanel/MetricsTab';
import TimelineTab from '../Kidsnote/TimelineView/TimelineTab';

const tabs = [
  { name: 'Request', Component: Request },
  { name: 'Response', Component: Response },
  { name: 'Details', Component: Details },
  { name: 'Metrics', Component: MetricsTab },      // â­ ì¶”ê°€
  { name: 'Timeline', Component: TimelineTab },    // â­ ì¶”ê°€
];
```

#### 2.2 ë©”ì¸ ëŒ€ì‹œë³´ë“œ ì¶”ê°€

**ìƒˆë¡œìš´ ë©”ì¸ ë·° ì¶”ê°€:**
```typescript
// web/src/js/components/ProxyApp.tsx
import MetricsPanel from './Kidsnote/MetricsPanel';

// íƒ­ ë˜ëŠ” ì‚¬ì´ë“œ íŒ¨ë„ë¡œ ì¶”ê°€
<MetricsPanel />
```

#### 2.3 Redux State í™•ì¥

```typescript
// web/src/js/ducks/kidsnote/metrics.ts
export interface MetricsState {
  summary: {
    totalRequests: number;
    errorRate: number;
    avgResponseTime: number;
    slowQueries: number;
  };
  timeline: TimelineData[];
  domainStats: DomainStats[];
}
```

---

### 3. ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬

**ì„ íƒ:** Recharts (React ì „ìš©, ê²½ëŸ‰)

```bash
npm install recharts
```

**ì´ìœ :**
- React 19 í˜¸í™˜
- TypeScript ì§€ì›
- ê°„ë‹¨í•œ API
- ì»¤ìŠ¤í„°ë§ˆì´ì§• ìš©ì´

---

## ğŸ¨ UI/UX ì„¤ê³„

### ë ˆì´ì•„ì›ƒ ì˜µì…˜

#### ì˜µì…˜ 1: íƒ­ ê¸°ë°˜ (ì¶”ì²œ)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ Flows | Metrics | Timeline | ... ]  â”‚  â† íƒ­ ì¶”ê°€
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚          ì»¨í…ì¸  ì˜ì—­                     â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ì˜µì…˜ 2: ì‚¬ì´ë“œ íŒ¨ë„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        â”‚  Header                        â”‚
â”‚ ë©”íŠ¸ë¦­  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ íŒ¨ë„    â”‚                                â”‚
â”‚        â”‚  FlowTable                     â”‚
â”‚        â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ë°ì´í„° íë¦„

```
ì‚¬ìš©ì ì•¡ì…˜ (í•„í„° ë³€ê²½)
    â†“
Redux Action Dispatch
    â†“
Redux Reducer ì—…ë°ì´íŠ¸
    â†“
Component Re-render
    â†“
ê³„ì‚°ëœ ë©”íŠ¸ë¦­ í‘œì‹œ
```

**ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸:**
```
WebSocket /updates
    â†“
flows/add, flows/update ì´ë²¤íŠ¸
    â†“
Redux Store ì—…ë°ì´íŠ¸
    â†“
ë©”íŠ¸ë¦­ ìë™ ì¬ê³„ì‚°
    â†“
ì°¨íŠ¸ ìë™ ì—…ë°ì´íŠ¸
```

---

## ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

1. **ë¡œì»¬ ì‹¤í–‰ ì›ì¹™**
   - ë„¤íŠ¸ì›Œí¬ ë…¸ì¶œ ìµœì†Œí™”
   - localhost:8081ì—ë§Œ ë°”ì¸ë”©

2. **ë¯¼ê° ì •ë³´ ì²˜ë¦¬**
   - Authorization í—¤ë” ë§ˆìŠ¤í‚¹ ì˜µì…˜
   - ì¿ í‚¤ ì •ë³´ ìˆ¨ê¹€ ì˜µì…˜

3. **íŒ€ ê³µìœ  ì‹œ**
   - ì„¸ì…˜ ë°ì´í„° ë¡œì»¬ ì €ì¥
   - ê³µìœ  ì‹œ ë¯¼ê° ì •ë³´ ìë™ ì œê±°

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

### 1. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Jest)
```typescript
// MetricsCalculator.test.ts
describe('MetricsCalculator', () => {
  it('should calculate error rate correctly', () => {
    // ...
  });
});
```

### 2. í†µí•© í…ŒìŠ¤íŠ¸
- mitmproxyì™€ React ì•± ê°„ í†µì‹  í…ŒìŠ¤íŠ¸
- WebSocket ì—°ê²° ì•ˆì •ì„±

### 3. E2E í…ŒìŠ¤íŠ¸ (ì„ íƒì )
- Playwrightë¡œ ì „ì²´ ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸

---

## ğŸ“¦ ë°°í¬ ì „ëµ

### 1. Docker (ì¶”ì²œ)
```dockerfile
FROM mitmproxy/mitmproxy:latest

# ë¹Œë“œëœ ì›¹ ìì‚° ë³µì‚¬
COPY web/dist /web/dist

EXPOSE 8081
CMD ["mitmweb", "--web-host", "0.0.0.0"]
```

### 2. Python íŒ¨í‚¤ì§€
```bash
pip install -e .
mitmweb
```

### 3. ë°”ì´ë„ˆë¦¬ (í–¥í›„)
- PyInstallerë¡œ ë‹¨ì¼ ì‹¤í–‰ íŒŒì¼ ìƒì„±

---

## ğŸ”„ ì—…ìŠ¤íŠ¸ë¦¼ ë™ê¸°í™” ì „ëµ

```bash
# ì›” 1íšŒ ì‹¤í–‰
git fetch upstream
git merge upstream/main

# ì¶©ëŒ ë°œìƒ ì‹œ
# - web/src/js/components/Kidsnote/ (ìš°ë¦¬ ì½”ë“œ - ì¶©ëŒ ì—†ìŒ)
# - web/src/js/components/*.tsx (ì¡°ì‹¬íˆ ë¨¸ì§€)
```

**ì›ì¹™:**
- ê¸°ì¡´ íŒŒì¼ ìˆ˜ì • ìµœì†Œí™”
- ìƒˆ íŒŒì¼ ì¶”ê°€ ìš°ì„ 
- ì˜¤ë²„ë¼ì´ë“œ íŒ¨í„´ í™œìš©

---

## ğŸ¯ ì„±ê³µ ì§€í‘œ

1. **ê°œë°œ ì†ë„**
   - MVP: 2ì£¼ ë‚´ ì™„ì„±
   - ì „ì²´ ê¸°ëŠ¥: 4ì£¼ ë‚´ ì™„ì„±

2. **ìœ ì§€ë³´ìˆ˜**
   - ì›” 1ì‹œê°„ ì´ë‚´ ì—…ìŠ¤íŠ¸ë¦¼ ë™ê¸°í™”
   - ë²„ê·¸ ìˆ˜ì • ì‹œê°„ < 2ì‹œê°„

3. **ì„±ëŠ¥**
   - 1000ê°œ ìš”ì²­ ì²˜ë¦¬ ì‹œ ë Œë”ë§ < 2ì´ˆ
   - ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ < 500MB

4. **íŒ€ ë§Œì¡±ë„**
   - 5ëª… iOS ê°œë°œì í™œìš©
   - ë””ë²„ê¹… ì‹œê°„ 30% ë‹¨ì¶•

---

## ğŸ“± êµ¬í˜„ ì™„ë£Œ ì»´í¬ë„ŒíŠ¸: Ad Tracking Panel

### ì•„í‚¤í…ì²˜ ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 AdTrackingPanel                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        íƒ­ ë©”ë‰´ (ViewType state)                  â”‚  â”‚
â”‚  â”‚  [ ğŸ“Š ê´‘ê³  ìš”ì•½ | ğŸ“¦ íŒ¨í‚· ìƒì„¸ | ğŸ“ˆ í‹°ì•„ë¼ ]    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           ê´‘ê³  ìš”ì•½ íƒ­ (ads)                    â”‚  â”‚
â”‚  â”‚  - Ad ID, ì œëª©, ìƒíƒœ, ë…¸ì¶œ/í´ë¦­ ì‹œê°„ í‘œì‹œ       â”‚  â”‚
â”‚  â”‚  - ìƒíƒœ í•„í„°: ìš”ì²­ë¨/ë…¸ì¶œë¨/í´ë¦­ë¨              â”‚  â”‚
â”‚  â”‚  - CTR ìë™ ê³„ì‚°                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          íŒ¨í‚· ìƒì„¸ íƒ­ (packets)                 â”‚  â”‚
â”‚  â”‚  - HTTP ìš”ì²­ ì‹œê°„, íƒ€ì…, Method, URL í‘œì‹œ       â”‚  â”‚
â”‚  â”‚  - í´ë¦­ ì‹œ ìƒì„¸ ëª¨ë‹¬ (Query Params í¬í•¨)        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           í‹°ì•„ë¼ íƒ­ (tiara)                     â”‚  â”‚
â”‚  â”‚  - Action Type í•„í„° (ViewImp, Click, etc.)     â”‚  â”‚
â”‚  â”‚  - ì´ë²¤íŠ¸ ëª©ë¡ (Timestamp, Type, Name, Page)   â”‚  â”‚
â”‚  â”‚  - Raw Event Data ì¡°íšŒ (ëª¨ë‹¬)                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° íë¦„

```
Redux Store (flows)
    â†“
AdTrackingPanel (connect)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             â”‚              â”‚               â”‚
â†“             â†“              â†“               â†“
parseAdDataFromFlows()   packets[]    fetchTiaraEventDetails()
    â†“             â†“              â†“
adsMap        packetList   tiaraEvents
(Map<adsid>)  (PacketDetail[])  (TiaraEvent[])
```

### ëª¨ë‹ˆí„°ë§ ëŒ€ìƒ API

| ì„œë¹„ìŠ¤ | í˜¸ìŠ¤íŠ¸ | ìš©ë„ |
|--------|--------|------|
| í‚¤ì¦ˆë…¸íŠ¸ ê´‘ê³  | `ads-api-kcsandbox-01.kidsnote.com` | req/imp/click ì¶”ì  |
| ì¹´ì¹´ì˜¤ í‹°ì•„ë¼ | `stat.tiara.daum.net` | ì‚¬ìš©ì í–‰ë™ ë¶„ì„ |

### ì£¼ìš” íƒ€ì… ì •ì˜

```typescript
// ê´‘ê³  íŠ¸ë˜í‚¹ ì´ë²¤íŠ¸
enum TrackingEventType {
    REQUEST = "request",      // ê´‘ê³  ëª©ë¡ ìš”ì²­ (/req)
    IMPRESSION = "impression", // ë…¸ì¶œ (/imp)
    CLICK = "click",          // í´ë¦­ (/click)
}

// ê´‘ê³  ìƒíƒœ
enum AdStatus {
    REQUESTED = "requested",
    IMPRESSED = "impressed",
    CLICKED = "clicked",
}

// í‹°ì•„ë¼ ì´ë²¤íŠ¸
interface TiaraEvent {
    actionType: string;  // ViewImp, Click, Search, etc.
    actionName: string;  // trackViewImp, trackClick, etc.
    page: string;
    section: string;
    rawData: any;        // ì›ë³¸ JSON ë°ì´í„°
}
```

---

## ğŸ“š ì°¸ê³  ë¬¸ì„œ

- [mitmproxy ê³µì‹ ë¬¸ì„œ](https://docs.mitmproxy.org/)
- [React 19 ë¬¸ì„œ](https://react.dev/)
- [Redux Toolkit ë¬¸ì„œ](https://redux-toolkit.js.org/)
- [Recharts ë¬¸ì„œ](https://recharts.org/)
